<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4_array.html</title>
</head>
<body>
    
    <script>
        // javascript의 배열은 값만 저장하지 않고, 여러 함수를 내장하고 있다
        const arr = [10, 20, 30, 40, 50]

        for(let i = 0; i < arr.length; i++) {
            console.log(arr[i])
        }
        // 1) 배열 내부의 각 요소를 순회하면서 작업을 수행하기
        arr.forEach(element => console.log(element))
        // 안에 함수를 콜백함수라고 한다

        // 2) 순회하면서 index도 함께 참조하려면
        arr.forEach((element, index) => {
            console.log('arr[' + index + '] : ' + element)
        })  // 배열에서 for문을 사용할일이 많지 않다. 거의 forEach를 사용한다.

        // 3) 배열에 요소 추가/제거하기
        arr.push(5)             // Stack의 push (list.add(e))
        arr.push(25)
        console.log(arr)

        const num = arr.pop()   // Stack의 pop (list.pop())
        console.log(arr)
        console.log(num)

        // 4) 배열의 각 요소에 대하여 공통작업을 수행하고 난 결과로 새로운 배열을 만들기
        const arr2 = arr.map(e => e - 3)    // 원소의 값이 변화
        console.log(arr)
        console.log(arr2)

        // 5) 배열의 각 요소에 대하여, 특정 조건을 만족하는 값만 남긴 새로운 배열 만들기
        const arr3 = arr.filter(e => e % 4 == 0)    // 배열의 길이가 변화
        console.log(arr)
        console.log(arr3)

        // 6) 배열의 내용을 정렬
        arr.push(100)
        arr.push(1)
        console.log(arr)

        arr.sort()          // 내부 값을 문자열로 변경한 후 정렬을 수행
        console.log(arr)

        arr.sort((a, b) => a - b)   // list.sort((a, b) a - b), Comparator
        console.log(arr)

        // 원본을 정렬한 새로운 배열 사본
        const arr4 = arr.toSorted((a, b) => a - b > 0)
        // 함순데 이름이 없다 = 익명함수
        // 자바로 따지면 람다, 스크립트에선 arrow function
        // 익명함수는 이름이 없기 때문에 재사용 불가.
        // 재사용 빈도가 높으면 이름을 붙이고, 한번만 쓸 코드이면 익명함수.
        // const arr4 = arr.toSorted((a, b) => {
        //     if(true) {

        //     }
        //     return a - b > 0
        // })       원래는 이렇게 쓰는것
        console.log(arr4)

        const arr5 = arr.toSorted(function(a, b) {
            return b - a
        })
        console.log({arr5: arr5})

        // 이름을 명시해서 함수를 만들고, 이후에 함수를 불러와서 호출하려면 function
        // 콜백함수를 전달하기 위해, 즉석에서 익명의 함수를 만들려면 arrow function

        const sortHandler = function(a, b) {
            return (a + '') - (b + '')
        }

        // 함수를 다른 함수의 매개변수에 넘긴다
        // 매개변수로 전달되는 함수(내부에서 호출되어 코드를 수행 및 반환값을 활용)
        const arr6 = arr.toSorted(sortHandler)

    </script>

</body>
</html>